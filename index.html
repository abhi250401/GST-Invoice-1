<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>GST Invoice</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{font-family:Segoe UI,Arial,sans-serif;background:#f2f2f2;padding:20px;font-size:13px}
.container{max-width:950px;margin:auto;background:#fff;border:1px solid #000}
.section{padding:12px;border-bottom:1px solid #000}
h2{font-size:15px;margin-bottom:8px;border-bottom:1px solid #000}
input{padding:6px;width:100%;border:1px solid #999}
.flex{display:flex;gap:10px}
.box{width:50%}
table{width:100%;border-collapse:collapse;margin-top:10px}
th,td{border:1px solid #000;padding:6px}
th{background:#eaeaea}
.text-right{text-align:right}
.text-center{text-align:center}
button{padding:8px 12px;background:#1a237e;color:#fff;border:none;font-weight:600;cursor:pointer}
.btns{margin-top:15px;display:flex;gap:10px}
.hide{display:none}
.small{font-size:12px}
@media print{.btns,.form{display:none}body{background:#fff;padding:0}}
</style>
</head>

<body>

<!-- ================= FORM ================= -->
<div class="container form">

<div class="section">
<h2>Seller Details</h2>
<div class="flex">
<input id="sName" placeholder="Seller Name" value="POONAM ENTERPRISES">
<input id="sGstin" placeholder="GSTIN" value="24HDE7487RE5RT4">
</div><br>
<input id="sAddr" placeholder="Address" value="E-251/C, Shyam Vihar, Najafgarh, Delhi-43"><br><br>
<input id="sBank" placeholder="Bank Details" value="SBI | A/C 2000000004512 | IFSC SBIN0000488">
</div>

<div class="section">
<h2>Buyer Details</h2>
<div class="flex">
<input id="bName" placeholder="Buyer Name">
<input id="bPhone" placeholder="Phone">
</div><br>
<input id="bAddr" placeholder="Address"><br><br>
<input id="bGstin" placeholder="GSTIN">
</div>

<div class="section">
<h2>Products</h2>
<table>
<thead>
<tr>
<th>Description</th><th>HSN</th><th>Qty</th><th>Rate</th><th>GST %</th><th>Action</th>
</tr>
</thead>
<tbody id="prodBody"></tbody>
</table>
<br>
<button onclick="addRow()">+ Add Product</button>
</div>

<div class="btns">
<button onclick="generate()">Generate Invoice</button>
</div>
</div>

<!-- ================= INVOICE ================= -->
<div class="container hide" id="invoice">

<div class="section text-center">
<h2>TAX INVOICE</h2>
<div class="small">Invoice No: <span id="invNo"></span> | Date: <span id="invDate"></span></div>
</div>

<div class="section flex">
<div class="box">
<b>Seller</b><br>
<span id="isName"></span><br>
<span id="isAddr"></span><br>
GSTIN: <span id="isGstin"></span>
</div>
<div class="box">
<b>Buyer</b><br>
<span id="ibName"></span><br>
<span id="ibAddr"></span><br>
Phone: <span id="ibPhone"></span><br>
GSTIN: <span id="ibGstin"></span>
</div>
</div>

<div class="section">
<table>
<thead>
<tr>
<th>Sr</th><th>Description</th><th>HSN</th><th>Qty</th><th>Rate</th>
<th>Taxable</th><th>CGST</th><th>SGST</th><th>Total</th>
</tr>
</thead>
<tbody id="invRows"></tbody>
</table>
</div>

<div class="section flex">
<div class="box">
<b>Amount in Words</b><br>
<span id="words"></span>
</div>
<div class="box">
<div>Taxable: ₹ <span id="tTaxable"></span></div>
<div>CGST: ₹ <span id="tCgst"></span></div>
<div>SGST: ₹ <span id="tSgst"></span></div>
<b>Grand Total: ₹ <span id="tGrand"></span></b>
</div>
</div>

<div class="section flex">
<div class="box">
<b>Bank Details</b><br>
<span id="isBank"></span>
</div>
<div class="box text-center">
For <span id="isName2"></span><br><br>
Authorised Signatory
</div>
</div>

<div class="btns">
<button onclick="window.print()">Print / Save PDF</button>
<button onclick="location.reload()">Back</button>
</div>
</div>

<script>
let count=0;
function addRow(){
    prodBody.innerHTML+=`
    <tr>
    <td><input></td>
    <td><input></td>
    <td><input type="number"></td>
    <td><input type="number"></td>
    <td><input type="number" value="18"></td>
    <td class="text-center"><button onclick="this.parentElement.parentElement.remove()">X</button></td>
    </tr>`;
}
addRow();

function generate(){
    invNo.innerText="GST-"+Date.now().toString().slice(-6);
    invDate.innerText=new Date().toLocaleDateString();

    isName.innerText=isName2.innerText=sName.value;
    isAddr.innerText=sAddr.value;
    isGstin.innerText=sGstin.value;
    isBank.innerText=sBank.value;

    ibName.innerText=bName.value;
    ibAddr.innerText=bAddr.value;
    ibPhone.innerText=bPhone.value;
    ibGstin.innerText=bGstin.value;

    let rows="",taxable=0,cgst=0,sgst=0,total=0;
    [...prodBody.children].forEach((r,i)=>{
        let d=r.children;
        let q=+d[2].firstChild.value;
        let rate=+d[3].firstChild.value;
        let gst=+d[4].firstChild.value;
        let t=q*rate;
        let tax=t*gst/100;
        let half=tax/2;
        rows+=`
        <tr>
        <td class="text-center">${i+1}</td>
        <td>${d[0].firstChild.value}</td>
        <td class="text-center">${d[1].firstChild.value}</td>
        <td class="text-center">${q}</td>
        <td class="text-right">${rate}</td>
        <td class="text-right">${t.toFixed(2)}</td>
        <td class="text-right">${half.toFixed(2)}</td>
        <td class="text-right">${half.toFixed(2)}</td>
        <td class="text-right">${(t+tax).toFixed(2)}</td>
        </tr>`;
        taxable+=t; cgst+=half; sgst+=half; total+=t+tax;
    });

    invRows.innerHTML=rows;
    tTaxable.innerText=taxable.toFixed(2);
    tCgst.innerText=cgst.toFixed(2);
    tSgst.innerText=sgst.toFixed(2);
    tGrand.innerText=total.toFixed(2);
    words.innerText=Math.floor(total)+" Rupees Only";

    document.querySelector('.form').classList.add('hide');
    invoice.classList.remove('hide');
}
</script>

</body>
</html>
